/*! rescue-theme v1.0.0 | (c) 2015 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/rescue-theme */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.petfinderImgToggle=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,n,r,i={},o="querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("_"),c={selectorContainer:"[data-petfinder-img-container]",selectorImg:"[data-petfinder-img]",selectorToggle:"[data-petfinder-img-toggle]",initClass:"js-petfinder-images",imgAttributes:"",callback:function(){}},l=function(){var t={},e=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var i=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=l(!0,t[r],n[r]):t[r]=n[r])};r>n;n++){var o=arguments[n];i(o)}return t},s=function(t,e){var n,r,i=e.charAt(0);for("["===i&&(e=e.substr(1,e.length-2),n=e.split("="),n.length>1&&(r=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));t&&t!==document;t=t.parentNode){if("."===i&&t.classList.contains(e.substr(1)))return t;if("#"===i&&t.id===e.substr(1))return t;if("["===i&&t.hasAttribute(n[0])){if(!r)return t;if(t.getAttribute(n[0])===n[1])return t}if(t.tagName.toLowerCase()===e)return t}return null},a=function(t){if(t){var n=s(t,e.selectorContainer);if(n){var r=n.querySelector(e.selectorImg);r&&(r.innerHTML="<img "+e.imgAttributes+' src="'+t.href+'">',console.log(r.innerHTML),e.callback())}}},u=function(t){var n=t.target,r=s(n,e.selectorToggle);r&&(t.preventDefault(),a(r))};return i.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),document.removeEventListener("click",u,!1),e=null,n=null,r=null)},i.init=function(t){o&&(i.destroy(),e=l(c,t||{}),document.documentElement.classList.add(e.initClass),document.addEventListener("click",u,!1))},i}),function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.petfinderSort=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,n,r,i,o,c,l,s,a={},u="querySelector"in document&&"addEventListener"in t&&"classList"in document.createElement("_"),d="petfinderSortStates",f={initClass:"js-petfinder-sort",callback:function(){}},g=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t);else for(var i=0,o=t.length;o>i;i++)e.call(n,t[i],i,t)},m=function(){var t={},e=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var i=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=m(!0,t[r],n[r]):t[r]=n[r])};r>n;n++){var o=arguments[n];i(o)}return t},p=function(t,e){var n,r,i=e.charAt(0);for("["===i&&(e=e.substr(1,e.length-2),n=e.split("="),n.length>1&&(r=!0,n[1]=n[1].replace(/"/g,"").replace(/'/g,"")));t&&t!==document;t=t.parentNode){if("."===i&&t.classList.contains(e.substr(1)))return t;if("#"===i&&t.id===e.substr(1))return t;if("["===i&&t.hasAttribute(n[0])){if(!r)return t;if(t.getAttribute(n[0])===n[1])return t}if(t.tagName.toLowerCase()===e)return t}return null},b=function(n){if(t.sessionStorage){var i=n.getAttribute("data-petfinder-sort-target");if(n.checked===!1)return r[i]="unchecked",sessionStorage.setItem(d,JSON.stringify(r)),void e.callback(n);delete r[i],sessionStorage.setItem(d,JSON.stringify(r)),e.callback(n)}},v=function(e){if(t.sessionStorage){var n=e.getAttribute("data-petfinder-sort-target");r&&r[n]&&"unchecked"===r[n]&&(e.checked=!1)}},y=function(){g(o,function(t){v(t)}),g(c,function(t){v(t)}),g(l,function(t){v(t)})},h=function(t,e){return e?(t.style.display="none",void(t.style.visibility="hidden")):(t.style.display="block",void(t.style.visibility="visible"))},S=function(t){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));return t.checked===!0?void g(e,function(t){t.checked=!0,b(t)}):void g(e,function(t){t.checked=!1,b(t)})},j=function(){g(i,function(t){return s?void h(t,!0):void h(t)}),g(o,function(t){if(t.checked===!0){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));g(e,function(t){h(t)})}}),g(c,function(t){if(t.checked===!1){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));g(e,function(t){h(t,!0)})}})},k=function(){g(i,function(t){h(t)}),g(o,function(t){t.checked=!0}),g(c,function(t){t.checked=!0}),g(l,function(t){t.checked=!0})},A=function(t){var e=t.target,n=p(e,"[data-petfinder-sort]");n&&(b(n),"toggle"===n.getAttribute("data-petfinder-sort")&&S(n),j())};return a.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),k(),document.removeEventListener("click",A,!1),r=null,e=null,n=null,i=null,o=null,c=null,l=null,s=null)},a.init=function(n){u&&(a.destroy(),e=m(!0,f,n||{}),i=document.querySelectorAll(".pf-pet"),o=document.querySelectorAll('[data-petfinder-sort="breeds"]'),c=document.querySelectorAll('[data-petfinder-sort="attributes"]'),l=document.querySelectorAll('[data-petfinder-sort="toggle"]'),s=0===o.length?!1:!0,t.sessionStorage&&(r=sessionStorage.getItem(d)?JSON.parse(sessionStorage.getItem(d)):{}),r=t.sessionStorage?JSON.parse(sessionStorage.getItem(d))||{}:{},document.documentElement.classList.add(e.initClass),y(),j(),document.addEventListener("click",A,!1))},a}),petfinderSort.init(),petfinderImgToggle.init({selectorContainer:".js-petfinder-img-container",selectorImg:".js-petfinder-img",selectorToggle:".js-petfinder-img-toggle",imgAttributes:'class="img-photo img-limit-height-large"',callback:function(){rightHeight.runRightHeight()}});